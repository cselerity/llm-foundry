# Tutorials - æ•™å­¦è„šæœ¬

> **å®Œæ•´çš„ã€å¯è¿è¡Œçš„æ•™å­¦è„šæœ¬ï¼Œé•œåƒ `src/llm_foundry/` çš„åŠŸèƒ½**

---

## ğŸ¯ è¿™æ˜¯ä»€ä¹ˆï¼Ÿ

è¿™äº›æ•™å­¦è„šæœ¬æ˜¯ `src/llm_foundry/` ä¸»å·¥ç¨‹çš„**æ•™å­¦é•œåƒ**:

- **ä¸æ˜¯ç®€åŒ–ç‰ˆ** - ä¸ä¸»å·¥ç¨‹åŠŸèƒ½å®Œå…¨å¯¹ç­‰
- **å•æ–‡ä»¶å®ç°** - æ¯ä¸ªè„šæœ¬ç‹¬ç«‹è¿è¡Œï¼Œä¾¿äºå­¦ä¹ 
- **è¯¦ç»†æ³¨é‡Š** - ä»£ç ä¸­åŒ…å«ä¸°å¯Œçš„æ•™å­¦æ³¨é‡Š
- **æ•™å­¦ä¼˜å…ˆ** - ä»£ç ç»“æ„ä¼˜åŒ–ä¸ºæ•™å­¦å‹å¥½

```
src/llm_foundry/           tutorials/
(å·¥ç¨‹åŒ–å®ç°)          â†’   (æ•™å­¦å±•ç¤º)
â”œâ”€â”€ models/           â†’   model.py (å®Œæ•´å±•ç¤º)
â”œâ”€â”€ training/         â†’   train.py (æµç¨‹å±•ç¤º)
â”œâ”€â”€ inference/        â†’   generate.py (ç”¨æ³•å±•ç¤º)
â”œâ”€â”€ config/           â†’   config.py (é…ç½®å®šä¹‰)
â”œâ”€â”€ tokenizers/       â†’   tokenizer.py (åˆ†è¯å™¨)
â””â”€â”€ data/             â†’   dataloader.py (æ•°æ®åŠ è½½)

åŠŸèƒ½å®Œå…¨å¯¹ç­‰ï¼Œåªæ˜¯ç»„ç»‡æ–¹å¼ä¸åŒ
```

---

## ğŸ“š æ•™ç¨‹æ–‡ä»¶

### æ ¸å¿ƒæ–‡ä»¶

| æ–‡ä»¶ | è¯´æ˜ | è¡Œæ•° | å¯¹åº”ä¸»å·¥ç¨‹æ¨¡å— |
|------|------|------|----------------|
| [**config.py**](config.py) | é…ç½®ç±»å®šä¹‰ | ~700 | `src/llm_foundry/config/` |
| [**model.py**](model.py) | å®Œæ•´ Transformer å®ç° | ~630 | `src/llm_foundry/models/` |
| [**tokenizer.py**](tokenizer.py) | SentencePiece åˆ†è¯å™¨ | ~530 | `src/llm_foundry/tokenizers/` |
| [**dataloader.py**](dataloader.py) | æ•°æ®åŠ è½½å’Œå¤„ç† | ~430 | `src/llm_foundry/data/` |
| [**train.py**](train.py) | è®­ç»ƒæµç¨‹ | ~420 | `src/llm_foundry/training/` |
| [**generate.py**](generate.py) | æ–‡æœ¬ç”Ÿæˆ | ~480 | `src/llm_foundry/inference/` |

---

### ç¡¬ä»¶ä¼˜åŒ–è„šæœ¬

| æ–‡ä»¶ | è¯´æ˜ | é€‚ç”¨ç¡¬ä»¶ |
|------|------|----------|
| [**train_rtx5060.py**](train_rtx5060.py) | RTX 5060 ä¼˜åŒ–è®­ç»ƒ | NVIDIA GPU (8GB) |
| [**train_m4pro.py**](train_m4pro.py) | Apple M4 Pro ä¼˜åŒ–è®­ç»ƒ | Apple Silicon (32GB) |

**è¯¦ç»†é…ç½®æŒ‡å—:**
- RTX 5060 â†’ [å®Œæ•´æŒ‡å—](../docs/zh/hardware/rtx-5060.md)
- Apple Silicon â†’ æŒ‡å— (å¾…åˆ›å»º)

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### åŸºç¡€è®­ç»ƒ (é€‚åˆå­¦ä¹ )

```bash
cd tutorials
python train.py      # è®­ç»ƒæ¨¡å‹ (å°å‹é…ç½®)
python generate.py   # ç”Ÿæˆæ–‡æœ¬
```

**éœ€è¦è¯¦ç»†è¯´æ˜?** æŸ¥çœ‹ [å¿«é€Ÿå¼€å§‹æŒ‡å—](../GETTING_STARTED.md)

---

### RTX 5060 ä¼˜åŒ–è®­ç»ƒ

```bash
python train_rtx5060.py  # 70M å‚æ•°, 30-40 åˆ†é’Ÿ
```

**é…ç½®è¯¦æƒ…**: [RTX 5060 æŒ‡å—](../docs/zh/hardware/rtx-5060.md)

---

### Apple M4 Pro ä¼˜åŒ–è®­ç»ƒ

```bash
python train_m4pro.py    # 68M å‚æ•°, 40-60 åˆ†é’Ÿ
```

---

## ğŸ“– å­¦ä¹ è·¯å¾„

**é¦–æ¬¡å­¦ä¹ ?** å»ºè®®å…ˆæŸ¥çœ‹å®Œæ•´çš„å­¦ä¹ è·¯å¾„:

ğŸ‘‰ **[å­¦ä¹ è·¯å¾„æŒ‡å— (../LEARNING_PATH.md)](../LEARNING_PATH.md)**

å­¦ä¹ è·¯å¾„å°†å‘Šè¯‰æ‚¨:
- åº”è¯¥æŒ‰ä»€ä¹ˆé¡ºåºé˜…è¯»ä»£ç 
- æ¯ä¸ªæ–‡ä»¶çš„æ ¸å¿ƒæ¦‚å¿µæ˜¯ä»€ä¹ˆ
- å¦‚ä½•é€šè¿‡å®è·µåŠ æ·±ç†è§£

---

## ğŸ“ æ¨èé˜…è¯»é¡ºåº

### ç¬¬ 1 æ­¥: ç†è§£é…ç½®

**é˜…è¯»**: [config.py](config.py)

**é‡ç‚¹ç†è§£**:
- `ModelConfig` - æ¨¡å‹å‚æ•°é…ç½®
- `TrainConfig` - è®­ç»ƒå‚æ•°é…ç½®
- é¢„è®¾é…ç½®å‡½æ•° (small, medium, RTX 5060, M4 Pro)

---

### ç¬¬ 2 æ­¥: ç†è§£æ•°æ®å¤„ç†

**é˜…è¯»**: [tokenizer.py](tokenizer.py) â†’ [dataloader.py](dataloader.py)

**é‡ç‚¹ç†è§£**:
- SentencePiece BPE åˆ†è¯
- æ•°æ®åŠ è½½å’Œæ‰¹å¤„ç†
- è®­ç»ƒ/éªŒè¯é›†åˆ†å‰²

---

### ç¬¬ 3 æ­¥: ç†è§£æ¨¡å‹æ¶æ„

**é˜…è¯»**: [model.py](model.py)

**é‡ç‚¹ç†è§£**:
- RMSNorm, RoPE, GQA, SwiGLU
- Transformer Block ç»“æ„
- å› æœè‡ªæ³¨æ„åŠ›æœºåˆ¶

**æ·±å…¥å­¦ä¹ ** â†’ [æ¶æ„ç»„ä»¶è¯¦è§£](../docs/zh/architecture/components.md)

---

### ç¬¬ 4 æ­¥: ç†è§£è®­ç»ƒæµç¨‹

**é˜…è¯»**: [train.py](train.py)

**é‡ç‚¹ç†è§£**:
- è®­ç»ƒå¾ªç¯
- æŸå¤±è®¡ç®—
- æ¢¯åº¦æ›´æ–°
- æ£€æŸ¥ç‚¹ä¿å­˜

---

### ç¬¬ 5 æ­¥: ç†è§£æ–‡æœ¬ç”Ÿæˆ

**é˜…è¯»**: [generate.py](generate.py)

**é‡ç‚¹ç†è§£**:
- è‡ªå›å½’ç”Ÿæˆ
- é‡‡æ ·ç­–ç•¥ (temperature, top-k, top-p)
- ç”Ÿæˆæ§åˆ¶

---

## ğŸ”„ ä¸ä¸»å·¥ç¨‹çš„å…³ç³»

### æ ¸å¿ƒåŸåˆ™

æ•™ç¨‹æ˜¯ä¸»å·¥ç¨‹çš„**å±•ç¤ºçª—å£**ï¼Œä¸æ˜¯ç‹¬ç«‹åˆ†æ”¯ã€‚

### ä½¿ç”¨åœºæ™¯

**æ•™å­¦è„šæœ¬ (tutorials/) - ç”¨äºå­¦ä¹ **:
- âœ… å•æ–‡ä»¶å®Œæ•´å®ç°
- âœ… è¯¦ç»†æ³¨é‡Š
- âœ… æ•™å­¦ä¼˜å…ˆ
- âœ… ç‹¬ç«‹è¿è¡Œ

**ä¸»åŒ… (src/) - ç”¨äºå¼€å‘**:
- âœ… æ¨¡å—åŒ–è®¾è®¡
- âœ… ç®€æ´ä»£ç 
- âœ… æ€§èƒ½ä¼˜å…ˆ
- âœ… åŒ…ç®¡ç†

### å¦‚ä½•é€‰æ‹©

```python
# å­¦ä¹ å’Œç†è§£ â†’ ä½¿ç”¨æ•™å­¦è„šæœ¬
cd tutorials
python train.py

# ç”Ÿäº§å¼€å‘ â†’ ä½¿ç”¨ä¸»åŒ…
from llm_foundry import MiniLLM, Trainer, DataLoader
```

---

## ğŸ’» ç¡¬ä»¶é…ç½®å‚è€ƒ

### æ¨èé…ç½®å¯¹æ¯”

| ç”¨é€” | GPU | æ˜¾å­˜ | æ¨¡å‹è§„æ¨¡ | è®­ç»ƒæ—¶é—´* |
|------|-----|------|---------|----------|
| **å­¦ä¹ ** | CPU | - | 2M | 10-30min |
| **å®éªŒ** | RTX 3060 | 12GB | 10M | 5-10min |
| **æœ¬åœ°è®­ç»ƒ** | **RTX 5060** | **8GB** | **70M** | **30-40min** |
| **ä¸“ä¸šå¼€å‘** | RTX 4090 | 24GB | 200M+ | 10-20min |
| **Mac ç”¨æˆ·** | **M4 Pro** | **32GB ç»Ÿä¸€** | **68M** | **40-60min** |

*åŸºäº 10k training steps

### å¿«é€Ÿé€‰æ‹©

```python
# RTX 5060 / 3060 / 4060 ç”¨æˆ·
from config import get_rtx5060_config, get_rtx5060_train_config
python train_rtx5060.py

# Apple M4 Pro / M3 Pro / M2 Pro ç”¨æˆ·
from config import get_m4pro_config, get_m4pro_train_config
python train_m4pro.py

# å…¶ä»–é…ç½®
from config import get_small_config, get_medium_config
python train.py
```

**è¯¦ç»†é…ç½®æŒ‡å—**:
- [ç¡¬ä»¶æ¦‚è§ˆ](../docs/zh/hardware/README.md) - ç¡¬ä»¶é€‰æ‹©æŒ‡å—
- [RTX 5060 æŒ‡å—](../docs/zh/hardware/rtx-5060.md) - 8GB GPU ä¼˜åŒ–
- [é…ç½®é€ŸæŸ¥è¡¨](../docs/zh/hardware/quick-reference.md) - å¿«é€Ÿå‚è€ƒ

---

## ğŸ“ æ·±å…¥å­¦ä¹ 

æƒ³è¦ç³»ç»Ÿæ€§å­¦ä¹  LLM è®­ç»ƒçš„å®Œæ•´çŸ¥è¯†ï¼Ÿ

### æ¶æ„æ·±å…¥

â†’ **[æ¶æ„æ–‡æ¡£](../docs/zh/architecture/)**
   - [æ ¸å¿ƒç»„ä»¶](../docs/zh/architecture/components.md) - RMSNorm, RoPE, GQA, SwiGLU
   - [è®­ç»ƒç³»ç»Ÿ](../docs/zh/architecture/training-system.md) - LLM è®­ç»ƒå®Œæ•´çŸ¥è¯†ä½“ç³»

**è®­ç»ƒç³»ç»Ÿæ–‡æ¡£åŒ…å«**:
- è®­ç»ƒå…¨æµç¨‹ (6 é˜¶æ®µ)
- æ ¸å¿ƒæŠ€æœ¯è¯¦è§£ (æ•°æ®å‡†å¤‡ã€é¢„è®­ç»ƒã€SFTã€RLHF)
- ä¸šç•Œæœ€ä½³å®è·µ (OpenAI, Meta, Anthropic, Google)
- è®­ç»ƒä¼˜åŒ–æŠ€å·§ (é€Ÿåº¦ã€å†…å­˜ã€è´¨é‡)

---

## ğŸ“– ä¸‹ä¸€æ­¥

**å®Œæˆæ•™ç¨‹å­¦ä¹ å**:

1. **ç³»ç»Ÿå­¦ä¹ ** â†’ [å­¦ä¹ è·¯å¾„](../LEARNING_PATH.md) - ç»“æ„åŒ–å­¦ä¹ 
2. **æ·±å…¥æ¶æ„** â†’ [æ¶æ„æ–‡æ¡£](../docs/zh/architecture/) - æŠ€æœ¯æ·±å…¥
3. **ç¡¬ä»¶ä¼˜åŒ–** â†’ [ç¡¬ä»¶æŒ‡å—](../docs/zh/hardware/) - å¹³å°ç‰¹å®š
4. **ç”Ÿäº§éƒ¨ç½²** â†’ [ç”Ÿäº§æ–‡æ¡£](../docs/zh/production/) - ä¼ä¸šçº§
5. **è´¡çŒ®ä»£ç ** â†’ [å¼€å‘è€…æŒ‡å—](../AGENTS.md) - å‚ä¸å¼€å‘

---

## ğŸ¤ è´¡çŒ®

å‘ç°é—®é¢˜æˆ–æœ‰æ”¹è¿›å»ºè®®ï¼Ÿæ¬¢è¿:
- æäº¤ Issue
- åˆ›å»º Pull Request
- åˆ†äº«æ‚¨çš„å­¦ä¹ ç»éªŒ

è¯¦è§ [AGENTS.md](../AGENTS.md) äº†è§£è´¡çŒ®æµç¨‹ã€‚

---

**ç¥å­¦ä¹ æ„‰å¿«ï¼ğŸš€**

*é€šè¿‡æ•™å­¦è„šæœ¬æ·±å…¥ç†è§£ LLM å®ç°ï¼Œä»åŸºç¡€åˆ°ç²¾é€šã€‚*
